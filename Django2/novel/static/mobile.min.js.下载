
var Device={};Device.trim=function(s){return(s!=null?s.replace(/(^\s*)|(\s*$)/g,""):"");};Device.getCookie=function(name){var value=null;if(document.cookie&&document.cookie!=""){var cookies=document.cookie.split(';');for(var i=0;i<cookies.length;i++){var cookie=this.trim(cookies[i]);if(cookie.substring(0,name.length+1)==(name+"=")){value=decodeURIComponent(cookie.substring(name.length+1));break;}}}
return value;};Device.isMobile=function(){if(this.mobile==null||this.mobile==undefined){this.mobile=false;var userAgent=navigator.userAgent.toLowerCase();var deviceUserAgent=["iphone os","iphone","android","mobile","ipod","rv:1.2.3.4","series","mqqbrowser","midp","ucweb","windows ce","windows mobile"];for(var i=0;i<deviceUserAgent.length;i++){var regExp=new RegExp(deviceUserAgent[i],"i");if(userAgent.match(regExp)==deviceUserAgent[i]){this.mobile=true;break;}}}
return this.mobile;};Device.getTarget=function(url){if(url.indexOf("/book/")>0){return"http://m.zongheng.com/h5/book?bookid="+url.split("/book/")[1].split('.')[0];}else if(url.indexOf("/showchapter/")>0){return"http://m.zongheng.com/h5/chapter/list?bookid="+url.split("/showchapter/")[1].split('.')[0];}else if(url.indexOf("/category/")>0){return"http://m.zongheng.com/h5/category?cPid="+url.split("/category/")[1].split('.')[0];}else if(url.indexOf("/chapter/")>0){if(url.indexOf("/notorder/")>0){return"http://m.zongheng.com/h5/chapter?bookid="+url.split("/notorder/")[1].split('/')[0]+"&cid="+url.split("/notorder/")[1].split('/')[1].split('.')[0];}else{return"http://m.zongheng.com/h5/chapter?bookid="+url.split("/chapter/")[1].split('/')[0]+"&cid="+url.split("/chapter/")[1].split('/')[1].split('.')[0];}}else if(url.indexOf("/totaltome/")>0){return"http://m.zongheng.com/h5/chapter?bookid="+url.split("/totaltome/")[1].split('/')[0]+"&cid="+url.split("/totaltome/")[1].split('/')[1].split('.')[0];}else{return"http://m.zongheng.com"}}
Device.config=[{"name":"wap","domain":"http://wap.zongheng.com/adapter?tag=wap"},{"name":"h5","domain":"http://wap.zongheng.com/adapter?tag=h5"}];Device.getRoute=function(name){var config=this.config;for(var i=0;i<config.length;i++){var route=config[i];if(route.name==name){return route;}}
return null;};(function(){if(Device.isMobile()==true){var vType=Device.getCookie("platform");if(vType!=null){vType=vType.toLowerCase();}
if(vType!="pc"){location.href=Device.getTarget(location.href)}}})();